(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{698:(e,t,n)=>{Promise.resolve().then(n.bind(n,4925))},4925:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(5155);let s={address:"0x5E5b2E0dEA32BfdE38f3106A683D56cffC6fC82c",abi:[{inputs:[{internalType:"address",name:"vrfAddress",type:"address"},{internalType:"uint256",name:"subscriptionId",type:"uint256"},{internalType:"bytes32",name:"keyHash",type:"bytes32"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"have",type:"address"},{internalType:"address",name:"want",type:"address"}],name:"OnlyCoordinatorCanFulfill",type:"error"},{inputs:[{internalType:"address",name:"have",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"coordinator",type:"address"}],name:"OnlyOwnerOrCoordinator",type:"error"},{inputs:[],name:"Raffle_NotEnoughValue",type:"error"},{inputs:[],name:"Raffle_NotOpen",type:"error"},{inputs:[],name:"Raffle_TransferFailed",type:"error"},{inputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"playersLength",type:"uint256"},{internalType:"uint256",name:"raffleState",type:"uint256"}],name:"Raffle_UpkeepNotNeeded",type:"error"},{inputs:[],name:"ZeroAddress",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"vrfCoordinator",type:"address"}],name:"CoordinatorSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"player",type:"address"}],name:"RaffleEnter",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"requestId",type:"uint256"}],name:"RequestedRaffleWinner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"}],name:"WinnerPicked",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"",type:"bytes"}],name:"checkUpkeep",outputs:[{internalType:"bool",name:"upkeepNeeded",type:"bool"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"enterRaffle",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getCallBackGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getEntranceFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getInterval",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getLastTimeStamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNumWords",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getPlayer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRaffleState",outputs:[{internalType:"enum Raffle.RaffleState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRecentWinner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRequestConfirmations",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"",type:"bytes"}],name:"performUpkeep",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"requestId",type:"uint256"},{internalType:"uint256[]",name:"randomWords",type:"uint256[]"}],name:"rawFulfillRandomWords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"s_vrfCoordinator",outputs:[{internalType:"contract IVRFCoordinatorV2Plus",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vrfCoordinator",type:"address"}],name:"setCoordinator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}]};var i=n(2115),r=n(8438),l=n(5539),u=n(1573),p=n(5052),d=n(7200);let o={0:"Open",1:"Calculating new winner"};function y(){var e,t;let[n,y]=(0,i.useState)(0),{address:c,chainId:m}=(0,r.F)(),{data:f}=(0,l.A)({address:c}),{data:b}=(0,l.A)({address:s.address}),{writeContract:x}=(0,u.x)(),{data:h}=(0,p.X)({contracts:[{...s,functionName:"getEntranceFee"},{...s,functionName:"getInterval"},{...s,functionName:"getRecentWinner"},{...s,functionName:"getRaffleState"}]}),[v,T,N,k]=h||[],j=f?d.ck(f.value):"-",w=(null==v?void 0:v.result)?d.ck(v.result.toString()):"-",g=b?d.ck(b.value):"-",R="number"==typeof(null==k?void 0:k.result)?o[k.result]||"Unknown":"-";async function M(e){e.preventDefault(),x({address:s.address,abi:s.abi,functionName:"enterRaffle",args:[],value:d.g5(n.toString())})}return(0,a.jsxs)("div",{className:"p-6 rounded-lg w-full",children:[(0,a.jsxs)("div",{className:"flex w-full justify-between gap-x-6 mb-4 text-white font-medium",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-black text-xl font-bold",children:"Address"}),(0,a.jsx)("p",{className:"block text-black",children:c?c.slice(0,6)+"..."+c.slice(-4):"-"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-black text-xl font-bold",children:"Balance"}),(0,a.jsx)("p",{className:"block text-black",children:j.slice(0,5)})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-black text-xl font-bold",children:"Chain Id"}),(0,a.jsx)("p",{className:"block text-black",children:m||"-"})]})]}),(0,a.jsxs)("div",{className:"text-center mt-4",children:[(0,a.jsx)("h1",{className:"text-black text-xl font-bold",children:"The Raffle Lottery"}),(0,a.jsx)("p",{children:"This is a decentralized lottery app."}),(0,a.jsxs)("p",{children:["To enter the game you must enter the entrance fee of"," ",w," ETH."]}),(0,a.jsxs)("b",{children:["A new winner picked every ",Number(null!=(t=null==T||null==(e=T.result)?void 0:e.toString())?t:0)," ","seconds."]})]}),(0,a.jsxs)("div",{className:"flex w-full justify-between gap-x-6 my-6 text-white font-medium",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-black text-xl font-bold",children:"Previous Winner"}),(0,a.jsx)("p",{className:"block text-black",children:(null==N?void 0:N.result)?N.result.toString().slice(0,6)+"..."+N.result.toString().slice(-4):"-"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-black text-xl font-bold",children:"Total Prize"}),(0,a.jsx)("p",{className:"block text-black",children:g.slice(0,5)})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-black text-xl font-bold",children:"Lottery Status"}),(0,a.jsx)("p",{className:"block text-black",children:R})]})]}),(0,a.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[(0,a.jsxs)("label",{className:"block text-black",children:["Enter Raffle",(0,a.jsx)("input",{type:"text",className:"w-full mt-1 bg-gray-200 focus:bg-white p-2 rounded",placeholder:"0.01 ETH",onChange:e=>y(Number(e.target.value))})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded disabled:opacity-50",children:"Submit"})]})]})}function c(){return(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(y,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[230,248,441,684,358],()=>t(698)),_N_E=e.O()}]);